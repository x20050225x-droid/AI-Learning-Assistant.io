<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 學習助理 - 自動題庫生成系統</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>AI 學習助理 <span class="subtitle">自動題庫生成與學習分析系統</span></h1>

        <div id="setup-panel" class="card">
            <h2>1. 系統設定 & 教材輸入</h2>
            <div class="form-group">
                <label>Gemini API Key (自有金鑰)</label>
                <input type="password" id="apiKey" placeholder="請輸入你的 Google Gemini API Key">
                <small>系統採用使用者自有 API 金鑰呼叫模型，不會儲存於伺服器 。</small>
            </div>
            
            <div class="form-group">
                <label>學習教材內容</label>
                <textarea id="learningContent" rows="6" placeholder="請貼上講義內容、筆記或知識點..."></textarea>
            </div>

            <div class="controls">
                <div class="control-item">
                    <label>題型</label>
                    <select id="qType">
                        <option value="選擇題">選擇題</option>
                        <option value="是非題">是非題</option>
                    </select>
                </div>
                <div class="control-item">
                    <label>難度</label>
                    <select id="difficulty">
                        <option value="簡單">簡單</option>
                        <option value="中等" selected>中等</option>
                        <option value="困難">困難</option>
                    </select>
                </div>
                <div class="control-item">
                    <label>題數</label>
                    <input type="number" id="qCount" value="3" min="1" max="10">
                </div>
            </div>
            <button onclick="generateQuiz()" id="generateBtn">生成測驗</button>
        </div>

        <div id="quiz-panel" class="card hidden">
            <div class="quiz-header">
                <span id="progress-text">題目 1 / 5</span>
                <span id="timer">耗時: 0s</span>
            </div>
            <div id="question-container">
                <h3 id="question-text">題目載入中...</h3>
                <div id="options-container" class="options-grid"></div>
            </div>
            <div id="feedback-area" class="hidden">
                <p id="explanation-text"></p>
                <button onclick="nextQuestion()" id="nextBtn">下一題</button>
            </div>
        </div>

        <div id="result-panel" class="card hidden">
            <h2>學習行為分析報告</h2>
            <div class="stats-grid">
                <div class="stat-box">
                    <span class="stat-value" id="final-score">0%</span>
                    <span class="stat-label">正確率</span>
                </div>
                <div class="stat-box">
                    <span class="stat-value" id="avg-time">0s</span>
                    <span class="stat-label">平均作答時間</span>
                </div>
            </div>
            <div class="analysis-content">
                <h3>個人化學習建議</h3>
                <p id="ai-advice">分析中...</p>
            </div>
            <button onclick="resetSystem()">重新開始</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>